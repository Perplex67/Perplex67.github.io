<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>guess.py | Codes - Diederich 的博客</title>
    <link rel="stylesheet" href="../style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <div class="introduce">代码展示</div>

    <p class="code">
        from os import system
        from random import randint
        import json
        import os
        
        os.system('color a')
        
        filename = 'data.json'
        username_have_chinese = False
        time = 0
        lower_limit_guess_number = 0
        upper_limit_guess_number = 0
        set_maximum_time = ''
        maximum_guess_time = 0
        number = 0
        tell_player_number = ''
        replay = ''
        set_maximum_time_break = False
        
        # 使用 json 文件储存用户名
        try:
            # 读取文件
            with open(filename) as f_obj:
                username = json.load(f_obj)
                print('欢迎回来，' + str(username) + '!\n')
        
        except:
            print('请输入用户名')
            username = input('> ')
            print('\n')
        
            while True:
                # 检查用户名是否含有中文(使用 encode 和 decode 函数编解码中文 (gbk) 时会遇到 json 无法支持这种编码的错误)
                for i in username:
                    if u'\u4e00' <= i <= u'\u9fff':
                        username_have_chinese = True
        
                    else:
                        username_have_chinese = False
        
                if username_have_chinese:
                    print('用户名无法包含中文(使用 encode 和 decode 函数编解码中文 (gbk) 时会遇到 json 无法支持这种编码的错误)\n')
                    print('请输入用户名')
                    username = input('> ')
                    print('\n')
        
                else:
                    # 写入文件
                    with open(filename, 'w') as f_obj:
                        json.dump(username, f_obj)
                        print('欢迎您，' + str(username) + '!\n')
                        break
        
        
        while True:
            time = 0
            # 设置下限
            while True:
                print("请输入下限")
                lower_limit_guess_number = input("> ")
                print('\n')
        
                if lower_limit_guess_number == 'q':
                    exit()
        
                # 判断玩家输入的是否是整数
                try:
                    lower_limit_guess_number = int(lower_limit_guess_number)
                    break
        
                except:
                    print("非法输入\n")
        
            # 设置上限
            while True:
                print("请输入上限")
                upper_limit_guess_number = input("> ")
                print('\n')
        
                if upper_limit_guess_number == 'q':
                    exit()
        
                # 判断玩家输入的是否是整数
                try:
                    upper_limit_guess_number = int(upper_limit_guess_number)
                    break
        
                except:
                    print("非法输入\n")
        
            # 如果下限大于或等于上限, 就让玩家重新输入
            if lower_limit_guess_number >= upper_limit_guess_number:
                while True:
                    print("数字下限不能大于或等于数字上限")
                    print("重新输入下限\n")
                    lower_limit_guess_number = input("> ")
                    print('\n')
        
                    if lower_limit_guess_number == 'q':
                        exit()
        
                    # 判断玩家输入的是否是整数
                    try:
                        lower_limit_guess_number = int(
                            lower_limit_guess_number)
        
                    except:
                        print("非法输入\n")
        
                    else:
                        print("重新输入上限")
        
                        upper_limit_guess_number = input("> ")
                        print('\n')
        
                        if upper_limit_guess_number == 'q':
                            exit()
        
                        try:
                            upper_limit_guess_number = int(
                                upper_limit_guess_number)
        
                        except:
                            print("非法输入\n")
        
                        else:
                            if lower_limit_guess_number < upper_limit_guess_number:
                                break
        
            <br/><br/>省略...
    </p>

    <div class="donwload-center">
        <button class="downloads"><a href="./guess/guess.py" download="guess.py">下载源码</a></button>
    </div>
</body>

</html>